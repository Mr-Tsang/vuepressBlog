# JS基础
## 虚拟DOM和真实DOM的区别
注：需要不需要虚拟DOM，其实与框架的DOM操作机制有关

1. 虚拟DOM不会进行重排与重绘操作
2. 虚拟 DOM进行频繁修改，然后一次性比较并修改真实DOM中需要改的部分，最后并在真实DOM中进行排版与重绘，减少过多DOM节点排版与重绘损耗
3. 真实DOM频繁排版与重绘的效率是相当低的
4. 虚拟DOM有效降低大面积（真实DOM节点）的重绘与排版，因为最终与真实DOM比较差异，可以只渲染局部

使用虚拟DOM的损耗计算：

```js
总损耗 = 虚拟DOM增删改 + （与Diff算法效率有关）真实DOM差异增删改 + （较少的节点）排版与重绘
```

直接使用真实DOM的损耗计算：

```js
总损耗 = 真实DOM完全增删改 + （可能较多的节点）排版与重绘
```

## new过程
1. 创建一个空对象
2. 将所创建的对象的_proto__属性设为构造函数的prototype的属性值
3. 执行构造函数中的代码，构造函数中的this指向该对象
4. 返回对象

## 图片预加载
图片预加载原理：在浏览器空闲的时候提前加载图片放入缓存，当用户需要查看的时候直接从本地缓存中读取图片进行渲染。

懒加载和预加载的区别：

1. 懒加载，迟缓甚至不加载；懒加载对服务器前端有一定的缓解压力作用；懒加载的主要目的是作为服务器端的优化，减少请求数或者延迟请求数。
2. 预加载，提前加载；预加载会增加服务器前端压力；预加载是牺牲服务器前端性能，换取更好的用户体验，这样可以使得用户的操作得到最快的反应。

预加载的实现方式：

1.使用css和javascript实现

2仅使用avascript实现

方法一：

```js
var images = [];
function preLoad() {
    var len = arguments.length; //等同于fn.arguments,但不是this.arguments
    for (var i = 0; i < len; i++) {
        images[i] = new Image();
        images[i].src = arguments[i];
    }
}
preLoad(src1,src2,src3);
```

该方法尤其适用预加载大量的图片.

3.使用ajax实现

使用ajax实现预加载不仅可以预加载图片，还可以预加载css、js相关的东西

使用Ajax，加载文件不会应用到加载页面上

使用Ajax，比直接使用JavaScript，优越之处在于JavaScript和CSS的加载不会影响到当前页面。该方法简洁、高效

